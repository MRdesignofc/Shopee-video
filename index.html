<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shop Trends</title>

  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">

  <!-- Mantém o CSS que você já está usando -->
  <link rel="stylesheet" href="style.v2.css?v=20260118-4"/>
</head>

<body class="page">

  <!-- Header (limpo, sem menu e sem ícones) -->
  <header class="topbar" role="banner">
    <div class="wrap topbar__inner topbar__inner--clean">
      <a class="brand" href="#" onclick="return false;">
        <img src="favicon.png" alt="Shop Trends" class="brand__logo">
        <div class="brand__txt">
          <strong>Shop Trends</strong>
          <span>Shopee • Ofertas em alta</span>
        </div>
      </a>

      <div class="topbar__right">
        <div class="pill" id="meta">Atualizando...</div>
        <button class="btn btn--ghost" id="logoutBtn" type="button">Sair</button>
      </div>
    </div>
  </header>

  <!-- HERO (mais moderno e agradável) -->
  <section class="hero hero--clean" aria-label="Destaque">
    <div class="wrap hero__grid hero__grid--clean">
      <div class="hero__copy hero__copy--clean">
        <div class="hero__kicker">Ofertas em alta, atualizadas automaticamente</div>

        <h1 class="hero__title hero__title--clean">
          Produtos da <span>Shopee</span>
        </h1>

        <p class="hero__sub hero__sub--clean">
          Encontre tendências, melhores vendidos e promoções com um clique.
        </p>

        <!-- Busca -->
        <div class="heroSearch heroSearch--clean" role="search">
          <input id="q" class="heroSearch__input" type="search"
                 placeholder="Buscar produtos, marcas, categorias..." autocomplete="off" />
          <button id="btnSearch" class="heroSearch__btn" type="button">Buscar</button>
        </div>

        <!-- CTAs (mais limpos) -->
        <div class="heroCtas" aria-label="Ações rápidas">
          <button class="btn btn--primary" id="btnDeals" type="button">Ver ofertas</button>
          <button class="btn btn--ghost" id="btnSeeAll" type="button">Ver tudo</button>
        </div>

        <!-- Atalhos (continua sendo preenchido via app.js) -->
        <div class="heroCats heroCats--clean" aria-label="Atalhos de categorias"></div>

        <!-- Observação curta (substitui a barra grande que você riscou) -->
        <div class="heroNote" aria-label="Aviso">
          Links podem conter afiliado. Dica: use o TikTok para ver reviews e unboxings.
        </div>
      </div>
    </div>

    <div class="hero__clouds" aria-hidden="true"></div>
  </section>

  <!-- Chips (categorias) -->
  <section class="wrap chipsRow chipsRow--clean" aria-label="Filtros principais">
    <div id="cats" class="chips"></div>

    <!-- Mantidos ocultos apenas para não quebrar o app.js -->
    <div class="chipsRow__actions is-hidden" aria-hidden="true">
      <button id="toggleView" class="btn btn--ghost" type="button" aria-pressed="false">Miniaturas</button>
      <button id="onlyFav" class="btn btn--ghost" type="button" aria-pressed="false">Favoritos</button>
    </div>
  </section>

  <!-- Controles -->
  <section class="wrap controls controls--clean" aria-label="Controles de listagem">
    <div class="controls__left">
      <select id="cat" class="select" aria-label="Categoria">
        <option value="all">Todas categorias</option>
      </select>

      <select id="sort" class="select" aria-label="Ordenação">
        <option value="relevance">Relevância</option>
        <option value="newest">Vendendo agora</option>
        <option value="bestsellers">Mais vendidos</option>
        <option value="discount">Maior desconto</option>
        <option value="price_asc">Menor preço</option>
        <option value="price_desc">Maior preço</option>
      </select>
    </div>

    <div class="controls__right">
      <div class="loadingPill" id="loadingPill" hidden>
        <span class="dot"></span> Carregando...
      </div>
    </div>
  </section>

  <!-- Conteúdo -->
  <main class="wrap content" role="main">

    <!-- HOME vitrines -->
    <section id="homeView" class="shelves" aria-label="Vitrines">
      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Vendendo agora</h2>
          <span class="shelf__hint" id="hintNow">—</span>
        </div>
        <div class="grid" id="gridNow" aria-label="Grid Vendendo agora"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Mais vendidos</h2>
          <span class="shelf__hint" id="hintBest">—</span>
        </div>
        <div class="grid" id="gridBest" aria-label="Grid Mais vendidos"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Ofertas</h2>
          <span class="shelf__hint" id="hintDeals">—</span>
        </div>
        <div class="grid" id="gridDeals" aria-label="Grid Ofertas"></div>
      </div>
    </section>

    <!-- LISTAGEM -->
    <section id="listView" class="listView" hidden aria-label="Lista completa">
      <div class="listHead">
        <h2 class="listHead__title" id="listTitle">Todos os produtos</h2>
        <div class="listHead__sub" id="listSub">—</div>
      </div>

      <div class="grid" id="gridAll" aria-label="Grid Produtos"></div>

      <div class="loadMore">
        <button class="btn btn--primary" id="loadMoreBtn" type="button">Carregar mais</button>
        <div class="loadMore__hint" id="loadMoreHint"></div>
      </div>
    </section>

    <div class="footer">
      Dados atualizados automaticamente • Links podem conter afiliado
    </div>
  </main>

  <!-- Modal -->
  <dialog id="modal" class="modal" aria-label="Detalhes do produto">
    <div class="modal__inner">
      <button class="modal__close" id="close" aria-label="Fechar">×</button>

      <div class="modal__media">
        <img id="m_img" alt="" />
      </div>

      <div class="modal__body">
        <div class="modal__top">
          <h2 id="m_title"></h2>
          <div class="mprice" id="m_price"></div>
          <div class="tag" id="m_cat"></div>
        </div>

        <div class="actions">
          <a class="action primary" id="m_buy" target="_blank" rel="noopener">Comprar na Shopee</a>
          <a class="action secondary" id="m_tiktok" target="_blank" rel="noopener">Buscar no TikTok</a>
        </div>

        <p class="small" style="margin-top:10px;">
          Dica: pesquise no TikTok por “review”, “unboxing” e “testando”.
        </p>
      </div>
    </div>
  </dialog>

  <!-- Mantidos para não quebrar JS existente -->
  <button id="cartBtn" hidden aria-hidden="true"></button>
  <button id="userBtn" hidden aria-hidden="true"></button>

  <!-- Firebase config -->
  <script src="firebase-config.js"></script>

  <!-- Guard -->
  <script type="module" src="guard.js"></script>

  <!-- App -->
  <script type="module" src="products-live.js"></script>

  <!-- Ação "Ver tudo" (não interfere no app.js) -->
  <script>
    (function(){
      const btn = document.getElementById("btnSeeAll");
      if (!btn) return;
      btn.addEventListener("click", () => {
        // aciona a mesma lógica do app.js: buscar leva pra listagem ("all")
        const q = document.getElementById("q");
        if (q) q.focus();
        // simulamos o comportamento do botão Buscar quando está na home:
        const btnSearch = document.getElementById("btnSearch");
        if (btnSearch) btnSearch.click();
      });
    })();
  </script>

</body>
</html>
