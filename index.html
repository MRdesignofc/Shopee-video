<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shop Trends</title>

  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">

  <link rel="stylesheet" href="style.css"/>
</head>

<body class="page">

  <!-- Skip link (acessibilidade) -->
  <a class="skip" href="#homeView">Pular para conteÃºdo</a>

  <!-- Header -->
  <header class="topbar">
    <div class="wrap topbar__inner">
      <a class="brand" href="#" onclick="return false;">
        <img src="favicon.png" alt="Shop Trends" class="brand__logo">
        <div class="brand__txt">
          <strong>Shop Trends</strong>
          <span>Shopee â€¢ Ofertas em alta</span>
        </div>
      </a>

      <nav class="topnav" aria-label="NavegaÃ§Ã£o">
        <a class="topnav__link is-active" href="#" data-nav="home">Home</a>
        <a class="topnav__link" href="#" data-nav="categories">Categorias</a>
        <a class="topnav__link" href="#" data-nav="deals">Deals</a>
        <a class="topnav__link" href="#" data-nav="contact">Contato</a>
      </nav>

      <div class="topbar__right">
        <div class="pill" id="meta">Atualizando...</div>
        <button class="iconBtn" id="cartBtn" type="button" aria-label="Carrinho" title="Carrinho">
          ğŸ›’
        </button>
        <button class="iconBtn" id="userBtn" type="button" aria-label="Conta" title="Conta">
          ğŸ‘¤
        </button>
        <button class="btn btn--ghost" id="logoutBtn" type="button">Sair</button>
      </div>
    </div>
  </header>

  <!-- Hero / Landing -->
  <section class="hero">
    <div class="wrap hero__grid">
      <div class="hero__copy">
        <div class="hero__kicker">Os Melhores Ofertas para VocÃª!</div>
        <h1 class="hero__title">
          Produtos da <span>Shopee</span>
        </h1>

        <div class="heroSearch" role="search">
          <input id="q" class="heroSearch__input" type="search"
                 placeholder="Buscar produtos..." autocomplete="off" />
          <button id="btnSearch" class="heroSearch__btn" type="button">Buscar</button>
        </div>

        <div class="heroCats" aria-label="Atalhos de categorias">
          <!-- preenchido via JS -->
        </div>

        <div class="heroBar">
          <div class="heroBar__text">Frete grÃ¡tis e descontos imperdÃ­veis!</div>
          <button class="btn btn--primary" id="btnDeals" type="button">Ver ofertas</button>
        </div>
      </div>

      <div class="hero__art" aria-hidden="true">
        <div class="artCard">
          <div class="artCard__badge">50% OFF</div>
          <div class="artCard__icons">
            <div class="bubble">ğŸ’</div>
            <div class="bubble">ğŸ’„</div>
            <div class="bubble">ğŸ§</div>
            <div class="bubble">ğŸ‘Ÿ</div>
          </div>
          <div class="artCard__caption">
            Vitrine viva â€¢ Produtos em alta â€¢ Atualiza automÃ¡tico
          </div>
        </div>
      </div>
    </div>

    <div class="hero__clouds" aria-hidden="true"></div>
  </section>

  <!-- Chips (modo de navegaÃ§Ã£o de produtos) -->
  <section class="wrap chipsRow" aria-label="Filtros principais">
    <div id="cats" class="chips"></div>

    <div class="chipsRow__actions">
      <button id="toggleView" class="btn btn--ghost" type="button" aria-pressed="false">
        Miniaturas
      </button>
      <button id="onlyFav" class="btn btn--ghost" type="button" aria-pressed="false">
        Favoritos
      </button>
    </div>
  </section>

  <!-- Controles (busca / sort / cat) -->
  <section class="wrap controls">
    <div class="controls__left">
      <select id="cat" class="select">
        <option value="all">Todas categorias</option>
      </select>

      <select id="sort" class="select">
        <option value="relevance">RelevÃ¢ncia</option>
        <option value="newest">Vendendo agora</option>
        <option value="bestsellers">Mais vendidos</option>
        <option value="discount">Maior desconto</option>
        <option value="price_asc">Menor preÃ§o</option>
        <option value="price_desc">Maior preÃ§o</option>
      </select>
    </div>

    <div class="controls__right">
      <div class="loadingPill" id="loadingPill" hidden>
        <span class="dot"></span> Carregando...
      </div>
    </div>
  </section>

  <!-- ConteÃºdo -->
  <main class="wrap content">

    <!-- HOME (vitrines) -->
    <section id="homeView" class="shelves">
      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Vendendo agora</h2>
          <span class="shelf__hint" id="hintNow">â€”</span>
        </div>
        <div class="grid" id="gridNow"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Mais vendidos</h2>
          <span class="shelf__hint" id="hintBest">â€”</span>
        </div>
        <div class="grid" id="gridBest"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Ofertas</h2>
          <span class="shelf__hint" id="hintDeals">â€”</span>
        </div>
        <div class="grid" id="gridDeals"></div>
      </div>
    </section>

    <!-- LISTAGEM (Todos / categoria / modo now/best/deals) -->
    <section id="listView" class="listView" hidden>
      <div class="listHead">
        <h2 class="listHead__title" id="listTitle">Todos os produtos</h2>
        <div class="listHead__sub" id="listSub">â€”</div>
      </div>

      <div class="grid" id="gridAll"></div>

      <div class="loadMore">
        <button class="btn btn--primary" id="loadMoreBtn" type="button">
          Carregar mais
        </button>
        <div class="loadMore__hint" id="loadMoreHint"></div>
      </div>
    </section>

    <div class="footer">
      Dados atualizados automaticamente â€¢ Links podem conter afiliado â€¢ Use â€œBuscar no TikTokâ€ para ver vÃ­deos similares
    </div>
  </main>

  <!-- Modal -->
  <dialog id="modal" class="modal">
    <div class="modal__inner">
      <button class="modal__close" id="close" aria-label="Fechar">Ã—</button>

      <div class="modal__media">
        <img id="m_img" alt="" />
      </div>

      <div class="modal__body">
        <div class="modal__top">
          <h2 id="m_title"></h2>
          <div class="mprice" id="m_price"></div>
          <div class="tag" id="m_cat"></div>
        </div>

        <div class="actions">
          <a class="action primary" id="m_buy" target="_blank" rel="noopener">Comprar na Shopee</a>
          <a class="action secondary" id="m_tiktok" target="_blank" rel="noopener">Buscar no TikTok</a>
        </div>

        <p class="small" style="margin-top:10px;">
          Dica: pesquise no TikTok por â€œreviewâ€, â€œunboxingâ€ e â€œtestandoâ€ para achar vÃ­deos mais parecidos.
        </p>
      </div>
    </div>
  </dialog>

  <!-- Firebase config (OBRIGATÃ“RIO) -->
  <script src="firebase-config.js"></script>

  <!-- Guard (OBRIGATÃ“RIO) -->
  <script type="module" src="guard.js"></script>

  <!-- App -->
  <script type="module" src="products-live.js"></script>
</body>
</html>
