<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Shop Trends</title>

  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">

  <link rel="stylesheet" href="style.css"/>
</head>
<body>

  <header class="header">
    <div class="wrap header-inner">
      <a class="brand" href="#" onclick="return false;">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <div>Shop Trends</div>
          <div class="small">Shopee ‚Ä¢ Ofertas em alta</div>
        </div>
      </a>

      <div class="search" role="search">
        <input id="search" placeholder="Buscar produto (ex: hot wheels, perfume, fone bluetooth)..." />
      </div>

      <div style="display:flex; gap:10px; align-items:center;">
        <!-- ‚úÖ Ajustado: products-live.js usa updateStatus -->
        <div class="badge" id="updateStatus">Atualizando...</div>
        <button class="btn btn-ghost" id="logoutBtn" type="button">Sair</button>
      </div>
    </div>

    <div class="wrap">
      <nav id="cats" class="cats"></nav>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-card">
        <div>
          <p class="hero-title">Os produtos mais quentes do dia üî•</p>
          <p class="hero-sub">Clique em qualquer item para abrir o link de compra e pesquisar v√≠deos no TikTok.</p>
        </div>
        <div class="hero-cta">
          <button class="btn" id="btnTop" type="button">Ver tudo</button>
          <button class="btn btn-ghost" id="btnMini" type="button">Miniaturas</button>
        </div>
      </div>
    </section>

    <!-- Controles (vitrines) -->
    <section class="controls">
      <div class="controls__left">
        <input id="q" class="input" type="search" placeholder="Buscar produto..." autocomplete="off" />
        <select id="cat" class="select">
          <option value="all">Todas categorias</option>
        </select>
        <select id="sort" class="select">
          <option value="trending">Vendendo agora</option>
          <option value="bestsellers">Mais vendidos</option>
          <option value="discount">Maior desconto</option>
          <option value="price_asc">Menor pre√ßo</option>
          <option value="price_desc">Maior pre√ßo</option>
          <option value="rating">Melhor avalia√ß√£o</option>
        </select>
      </div>

      <div class="controls__right">
      <button id="toggleView" class="u-btn" type="button" aria-pressed="false">Miniaturas</button>
      <button id="onlyFav" class="u-btn" type="button" aria-pressed="false">Favoritos</button>
        </button>
      </div>
    </section>

    <section class="shelves">
      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Vendendo agora</h2>
          <span class="shelf__hint" id="updatedHint">‚Äî</span>
        </div>
        <!-- ‚úÖ Troquei grid -> grid2 (evita conflito com sua .grid antiga) -->
        <div class="grid2" id="gridTrending"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Mais vendidos</h2>
        </div>
        <div class="grid2" id="gridBest"></div>
      </div>

      <div class="shelf">
        <div class="shelf__head">
          <h2 class="shelf__title">Ofertas</h2>
        </div>
        <div class="grid2" id="gridDeals"></div>
      </div>
    </section>

    <section class="all">
      <div class="shelf__head">
        <h2 class="shelf__title">Ver tudo</h2>
      </div>
<div class="grid2" id="gridAll"></div>

<div class="loadmore-wrap">
  <button id="loadMoreBtn" class="u-btn loadmore" type="button">
    Carregar mais
  </button>
  <div id="loadMoreInfo" class="loadmore-info"></div>
</div>
    </section>

    <div class="footer">
      Dados atualizados automaticamente ‚Ä¢ Links podem conter afiliado ‚Ä¢ Use ‚ÄúBuscar no TikTok‚Äù para ver v√≠deos similares
    </div>
  </main>

  <!-- Modal -->
  <dialog id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-media">
        <button class="close" id="close" aria-label="Fechar">√ó</button>
        <img id="m_img" alt="" />
      </div>

      <div class="modal-body">
        <h2 id="m_title"></h2>
        <div class="mprice" id="m_price"></div>
        <div class="tag" id="m_cat"></div>

        <div class="actions">
          <a class="action primary" id="m_buy" target="_blank" rel="noopener">Comprar na Shopee</a>
          <a class="action secondary" id="m_tiktok" target="_blank" rel="noopener">Buscar no TikTok</a>
        </div>

        <p class="small" style="margin-top:10px;">
          Dica: pesquise no TikTok por ‚Äúreview‚Äù, ‚Äúunboxing‚Äù e ‚Äútestando‚Äù para achar v√≠deos mais parecidos.
        </p>
      </div>
    </div>
  </dialog>

  <!-- Firebase config (global) -->
  <script src="./firebase-config.js"></script>

  <!-- Guard: bloqueia a home sem login -->
  <script type="module" src="./guard.js"></script>

  <!-- ‚úÖ App principal como m√≥dulo -->
  <script type="module" src="./app.js"></script>

  <!-- Logout -->
  <script type="module" src="./logout.js"></script>

  <!-- Atualiza√ß√£o autom√°tica de produtos -->
  <script src="./products-live.js"></script>

</body>
</html>
